description: Default Protonets implementation from orbit repo

target:
        service: amlk8s
        name: itplabrr1cl1 
        vc: resrchvc

environment:
        image: pytorch/pytorch:1.8.0-cuda11.1-cudnn8-devel
        #image: orb_gen
        #registry: cvgroup.azurecr.io # any public registry can be specified here
        #image: czn_pytorch/1.7.1mae_mount:latest
        #image: base/job/pytorch/1.8.0-cuda11.1-a100:20220509T151538446
        #registry: msrcvgvv.azurecr.io
        #registry: singularitybase.azurecr.io
        registry: docker.io
        #username: cvgroup
        #username: msrcvgvv
        setup: 
          - pip install torchvision==0.9.1
          - pip install tqdm==4.62.3 
          - pip install thop==0.0.31-2005241907
          - pip install plotly==4.8.1 

code: 
    local_dir: $CONFIG_DIR/src

    #storage:
    #data:
    #   storage_account_name: dguill
    #   container_name: data
    #   mount_dir: /mnt/data
    #   #remote_dir: ORB_DATA
    #   #storage_id: dguill
    #   #local_dir: ../ORB_DATA

jobs:
    - name: simplet_test_1
      sku: G1@eastus2
      #sku: G8
      command:
         - python3 test.py
